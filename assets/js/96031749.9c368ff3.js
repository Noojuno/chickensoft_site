"use strict";(self.webpackChunkchickensoft_site=self.webpackChunkchickensoft_site||[]).push([[1546],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>d});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=i,h=m["".concat(c,".").concat(d)]||m[d]||u[d]||r;return n?a.createElement(h,o(o({ref:t},l),{},{components:n})):a.createElement(h,o({ref:t},l))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7086:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const r={title:"\ud83d\udce5 Inputs",slug:"inputs",image:"../header.jpg"},o=void 0,s={unversionedId:"logic_blocks/basics/inputs",id:"logic_blocks/basics/inputs",title:"\ud83d\udce5 Inputs",description:"Inputs are temporary, disposable objects that contain relevant information about the input.",source:"@site/docs/logic_blocks/04_basics/01_inputs.md",sourceDirName:"logic_blocks/04_basics",slug:"/logic_blocks/basics/inputs",permalink:"/docs/logic_blocks/basics/inputs",draft:!1,editUrl:"https://github.com/chickensoft-games/chickensoft_site/tree/main/docs/logic_blocks/04_basics/01_inputs.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"\ud83d\udce5 Inputs",slug:"inputs",image:"../header.jpg"},sidebar:"tutorialSidebar",previous:{title:"\ud83e\uddee Basics",permalink:"/docs/logic_blocks/basics/"},next:{title:"\ud83d\udd04 States",permalink:"/docs/logic_blocks/basics/states"}},c={},p=[],l={toc:p};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Inputs")," are temporary, disposable objects that contain relevant information about the input."),(0,i.kt)("p",null,"For example, a logic block for a dimmable light switch might have an input that contains the dimmer value as a percentage between ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"partial class DimmableLightSwitch {\n  public static class Input {\n    public readonly record struct DimmerUpdated(double Value);\n  }\n}\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"By convention, inputs are shown stored in a simple static class called ",(0,i.kt)("inlineCode",{parentName:"p"},"Input")," inside the logic block that owns them. This organizational pattern groups inputs and allows consistent referencing: e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"DimmableLightSwitch.Input.DimmerUpdated"),"."),(0,i.kt)("p",{parentName:"admonition"},"If that feels too verbose, you can always import the logic block statically with a ",(0,i.kt)("inlineCode",{parentName:"p"},"using static Project.DimmableLightSwitch;")," statement and then reference the nested types directly: ",(0,i.kt)("inlineCode",{parentName:"p"},"Input.DimmerUpdated"),".")),(0,i.kt)("p",null,"You'll primarily interact with a logic block by giving it an input whenever something interesting happens. Inputs are designed to be short lived, ephemeral objects that simply carry relevant data."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var dimmableLightSwitch = new DimmableLightSwitch();\n\ndimmableLightSwitch.Input(new DimmableLightSwitch.Input.DimmerUpdated(0.5d));\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"\ud83d\ude80 Using a ",(0,i.kt)("inlineCode",{parentName:"p"},"struct")," for an input helps keep it on the stack. A logic block will only queue an input on the heap if an input is added while another input is still being processed. Even then, the way .NET collections tend to cache and resize themselves will typically prevent any memory allocations from happening at all! Plus, if LogicBlocks does need to queue inputs, it can do so without boxing them. \ud83d\ude0a"),(0,i.kt)("p",{parentName:"admonition"},"Making an input a ",(0,i.kt)("inlineCode",{parentName:"p"},"record struct")," allows us to take advantage of the ",(0,i.kt)("a",{parentName:"p",href:"https://devblogs.microsoft.com/dotnet/welcome-to-csharp-10/#record-structs"},"primary constructor syntax introduced for records")," in C# 10, ensuring the positional parameters are ",(0,i.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/tutorials/primary-constructors#primary-constructors"},"converted to properties automatically"),". Using the primary constructor syntax drastically shortens the amount of code we need to write for each input type."),(0,i.kt)("p",{parentName:"admonition"},"Lastly, we use the ",(0,i.kt)("inlineCode",{parentName:"p"},"readonly")," modifier for our inputs to ensure that they can't be modified after they are created. This has the nice advantage of making our inputs immutable and allows us to take advantage of performance optimizations by passing inputs with the ",(0,i.kt)("a",{parentName:"p",href:"https://devblogs.microsoft.com/premier-developer/the-in-modifier-and-the-readonly-structs-in-c/"},(0,i.kt)("inlineCode",{parentName:"a"},"in")," modifier introduced in C# 7"),".")))}u.isMDXComponent=!0}}]);